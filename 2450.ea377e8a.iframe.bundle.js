"use strict";(self.webpackChunkdi_saas_fe=self.webpackChunkdi_saas_fe||[]).push([[2450],{"./node_modules/devextreme/esm/ui/popover/ui.popover.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ui_popover});var size=__webpack_require__("./node_modules/devextreme/esm/core/utils/size.js"),renderer=__webpack_require__("./node_modules/devextreme/esm/core/renderer.js"),utils_window=__webpack_require__("./node_modules/devextreme/esm/core/utils/window.js"),core_element=__webpack_require__("./node_modules/devextreme/esm/core/element.js"),dom_adapter=__webpack_require__("./node_modules/devextreme/esm/core/dom_adapter.js"),events_engine=__webpack_require__("./node_modules/devextreme/esm/events/core/events_engine.js"),component_registrator=__webpack_require__("./node_modules/devextreme/esm/core/component_registrator.js"),utils_extend=__webpack_require__("./node_modules/devextreme/esm/core/utils/extend.js"),translator=__webpack_require__("./node_modules/devextreme/esm/animation/translator.js"),animation_position=__webpack_require__("./node_modules/devextreme/esm/animation/position.js"),type=__webpack_require__("./node_modules/devextreme/esm/core/utils/type.js"),math=__webpack_require__("./node_modules/devextreme/esm/core/utils/math.js"),utils=__webpack_require__("./node_modules/devextreme/esm/events/utils/index.js"),ui_errors=__webpack_require__("./node_modules/devextreme/esm/ui/widget/ui.errors.js"),ui_popup=__webpack_require__("./node_modules/devextreme/esm/ui/popup/ui.popup.js"),position=__webpack_require__("./node_modules/devextreme/esm/core/utils/position.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),common=__webpack_require__("./node_modules/devextreme/esm/core/utils/common.js"),borderWidthStyles={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"};var overlay_position_controller=__webpack_require__("./node_modules/devextreme/esm/ui/overlay/overlay_position_controller.js"),_excluded=["shading","target","$arrow"],WEIGHT_OF_SIDES={left:-1,top:-1,center:0,right:1,bottom:1},POPOVER_POSITION_ALIASES={top:{my:"bottom center",at:"top center",collision:"fit flip"},bottom:{my:"top center",at:"bottom center",collision:"fit flip"},right:{my:"left center",at:"right center",collision:"flip fit"},left:{my:"right center",at:"left center",collision:"flip fit"}},POPOVER_DEFAULT_BOUNDARY_OFFSET={h:10,v:10};class PopoverPositionController extends overlay_position_controller.H{constructor(_ref){var{shading,target,$arrow}=_ref;super((0,objectWithoutPropertiesLoose.Z)(_ref,_excluded)),this._props=(0,esm_extends.Z)({},this._props,{shading,target}),this._$arrow=$arrow,this._positionSide=void 0,this.updatePosition(this._props.position)}positionWrapper(){this._props.shading&&this._$wrapper.css({top:0,left:0})}updateTarget(target){this._props.target=target,this.updatePosition(this._props.position)}_renderBoundaryOffset(){}_getContainerPosition(){var offset=(0,common.TG)(this._position.offset||""),{h:hOffset,v:vOffset}=offset,isVerticalSide=this._isVerticalSide(),isHorizontalSide=this._isHorizontalSide();if(isVerticalSide||isHorizontalSide){var arrowOffset=(this._isPopoverInside()?-1:1)*WEIGHT_OF_SIDES[this._positionSide]*((isVerticalSide?(0,size.Cr)(this._$arrow):(0,size.dz)(this._$arrow))-this._getContentBorderWidth(this._positionSide));isVerticalSide?vOffset+=arrowOffset:hOffset+=arrowOffset}return(0,utils_extend.l)({},this._position,{offset:hOffset+" "+vOffset})}_getContentBorderWidth(side){var borderWidth=this._$content.css(borderWidthStyles[side]);return parseInt(borderWidth)||0}_isPopoverInside(){var my=animation_position.Z.setup.normalizeAlign(this._position.my),at=animation_position.Z.setup.normalizeAlign(this._position.at);return my.h===at.h&&my.v===at.v}_isVerticalSide(){var side=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._positionSide;return"top"===side||"bottom"===side}_isHorizontalSide(){var side=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._positionSide;return"left"===side||"right"===side}_getDisplaySide(position){var my=animation_position.Z.setup.normalizeAlign(position.my),at=animation_position.Z.setup.normalizeAlign(position.at),weightSign=WEIGHT_OF_SIDES[my.h]===WEIGHT_OF_SIDES[at.h]&&WEIGHT_OF_SIDES[my.v]===WEIGHT_OF_SIDES[at.v]?-1:1;return Math.abs(WEIGHT_OF_SIDES[my.h]-weightSign*WEIGHT_OF_SIDES[at.h])>Math.abs(WEIGHT_OF_SIDES[my.v]-weightSign*WEIGHT_OF_SIDES[at.v])?at.h:at.v}_normalizePosition(positionProp){var resultPosition,defaultPositionConfig={of:this._props.target,boundaryOffset:POPOVER_DEFAULT_BOUNDARY_OFFSET};return resultPosition=(0,type.$K)(positionProp)?(0,utils_extend.l)(!0,{},defaultPositionConfig,this._positionToObject(positionProp)):defaultPositionConfig,this._positionSide=this._getDisplaySide(resultPosition),resultPosition}_positionToObject(positionProp){return(0,type.HD)(positionProp)?(0,utils_extend.l)({},POPOVER_POSITION_ALIASES[positionProp]):positionProp}}var POSITION_FLIP_MAP={left:"right",top:"bottom",right:"left",bottom:"top",center:"center"},getEventNameByOption=function(optionValue){return(0,type.Kn)(optionValue)?optionValue.name:optionValue},getEventName=function(that,optionName){var optionValue=that.option(optionName);return getEventNameByOption(optionValue)},attachEvent=function(that,name){var{target,shading,disabled,hideEvent}=that.option(),isSelector=(0,type.HD)(target),shouldIgnoreHideEvent=shading&&"hide"===name,event=shouldIgnoreHideEvent?null:getEventName(that,"".concat(name,"Event"));if(shouldIgnoreHideEvent&&hideEvent&&ui_errors.Z.log("W1020"),event&&!disabled){var eventName=(0,utils.V4)(event,that.NAME),action=that._createAction(function(){var delay=function(that,optionName){var optionValue=that.option(optionName);return(0,type.Kn)(optionValue)&&optionValue.delay}(that,name+"Event");this._clearEventsTimeouts(),delay?this._timeouts[name]=setTimeout((function(){that[name]()}),delay):that[name]()}.bind(that),{validatingTargetName:"target"}),handler=function(e){action({event:e,target:(0,renderer.Z)(e.currentTarget)})},EVENT_HANDLER_NAME="_"+name+"EventHandler";if(isSelector)that[EVENT_HANDLER_NAME]=handler,events_engine.Z.on(dom_adapter.Z.getDocument(),eventName,target,handler);else{var targetElement=(0,core_element.u)((0,renderer.Z)(target));that[EVENT_HANDLER_NAME]=void 0,events_engine.Z.on(targetElement,eventName,handler)}}},detachEvent=function(that,target,name,event){var eventName=event||getEventName(that,name+"Event");if(eventName){eventName=(0,utils.V4)(eventName,that.NAME);var EVENT_HANDLER_NAME="_"+name+"EventHandler";that[EVENT_HANDLER_NAME]?events_engine.Z.off(dom_adapter.Z.getDocument(),eventName,target,that[EVENT_HANDLER_NAME]):events_engine.Z.off((0,core_element.u)((0,renderer.Z)(target)),eventName)}},Popover=ui_popup.Z.inherit({_getDefaultOptions:function(){return(0,utils_extend.l)(this.callBase(),{target:void 0,shading:!1,position:(0,utils_extend.l)({},POPOVER_POSITION_ALIASES.bottom),hideOnOutsideClick:!0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",from:1,to:0}},showTitle:!1,width:"auto",height:"auto",dragEnabled:!1,resizeEnabled:!1,fullScreen:!1,hideOnParentScroll:!0,arrowPosition:"",arrowOffset:0,_fixWrapperPosition:!0})},_defaultOptionsRules:function(){return[{device:{platform:"ios"},options:{arrowPosition:{boundaryOffset:{h:20,v:-10},collision:"fit"}}},{device:function(){return!(0,utils_window.Ym)()},options:{animation:null}}]},_init:function(){this.callBase(),this._renderArrow(),this._timeouts={},this.$element().addClass("dx-popover"),this.$wrapper().addClass("dx-popover-wrapper")},_render:function(){this.callBase.apply(this,arguments),this._detachEvents(this.option("target")),this._attachEvents()},_detachEvents:function(target){detachEvent(this,target,"show"),detachEvent(this,target,"hide")},_attachEvents:function(){attachEvent(this,"show"),attachEvent(this,"hide")},_renderArrow:function(){this._$arrow=(0,renderer.Z)("<div>").addClass("dx-popover-arrow").prependTo(this.$overlayContent())},_documentDownHandler:function(e){return!this._isOutsideClick(e)||this.callBase(e)},_isOutsideClick:function(e){return!(0,renderer.Z)(e.target).closest(this.option("target")).length},_animate:function(animation){animation&&animation.to&&"object"==typeof animation.to&&(0,utils_extend.l)(animation.to,{position:this._getContainerPosition()}),this.callBase.apply(this,arguments)},_stopAnimation:function(){this.callBase.apply(this,arguments)},_renderTitle:function(){this.$wrapper().toggleClass("dx-popover-without-title",!this.option("showTitle")),this.callBase()},_renderPosition:function(){var shouldUpdateDimensions=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.callBase(),this._renderOverlayPosition(shouldUpdateDimensions),this._actions.onPositioned()},_renderOverlayPosition:function(shouldUpdateDimensions){this._resetOverlayPosition(shouldUpdateDimensions),this._updateContentSize(shouldUpdateDimensions);var contentPosition=this._getContainerPosition(),resultLocation=animation_position.Z.setup(this.$overlayContent(),contentPosition),positionSide=this._getSideByLocation(resultLocation);this._togglePositionClass("dx-position-"+positionSide),this._toggleFlippedClass(resultLocation.h.flip,resultLocation.v.flip),(this._isHorizontalSide()||this._isVerticalSide())&&this._renderArrowPosition(positionSide)},_resetOverlayPosition:function(shouldUpdateDimensions){this._setContentHeight(shouldUpdateDimensions),this._togglePositionClass("dx-position-"+this._positionController._positionSide),(0,translator.pB)(this.$overlayContent(),{left:0,top:0}),this._$arrow.css({top:"auto",right:"auto",bottom:"auto",left:"auto"})},_updateContentSize:function(shouldUpdateDimensions){if(this.$content()&&shouldUpdateDimensions){var containerLocation=animation_position.Z.calculate(this.$overlayContent(),this._getContainerPosition());if(containerLocation.h.oversize>0&&this._isHorizontalSide()&&!containerLocation.h.fit){var newContainerWidth=(0,size.dz)(this.$overlayContent())-containerLocation.h.oversize;(0,size.cl)(this.$overlayContent(),newContainerWidth)}if(containerLocation.v.oversize>0&&this._isVerticalSide()&&!containerLocation.v.fit){var newOverlayContentHeight=(0,size.Cr)(this.$overlayContent())-containerLocation.v.oversize,newPopupContentHeight=(0,size.Cr)(this.$content())-containerLocation.v.oversize;(0,size.QQ)(this.$overlayContent(),newOverlayContentHeight),(0,size.QQ)(this.$content(),newPopupContentHeight)}}},_getContainerPosition:function(){return this._positionController._getContainerPosition()},_hideOnParentScrollTarget:function(){return(0,renderer.Z)(this._positionController._position.of||this.callBase())},_getSideByLocation:function(location){var isFlippedByVertical=location.v.flip,isFlippedByHorizontal=location.h.flip;return this._isVerticalSide()&&isFlippedByVertical||this._isHorizontalSide()&&isFlippedByHorizontal||this._isPopoverInside()?POSITION_FLIP_MAP[this._positionController._positionSide]:this._positionController._positionSide},_togglePositionClass:function(positionClass){this.$wrapper().removeClass("dx-position-left dx-position-right dx-position-top dx-position-bottom").addClass(positionClass)},_toggleFlippedClass:function(isFlippedHorizontal,isFlippedVertical){this.$wrapper().toggleClass("dx-popover-flipped-horizontal",isFlippedHorizontal).toggleClass("dx-popover-flipped-vertical",isFlippedVertical)},_renderArrowPosition:function(side){var arrowRect=(0,position.l)(this._$arrow.get(0)),arrowFlip=-(this._isVerticalSide(side)?arrowRect.height:arrowRect.width);this._$arrow.css(POSITION_FLIP_MAP[side],arrowFlip);var arrowLocation,axis=this._isVerticalSide(side)?"left":"top",sizeProperty=this._isVerticalSide(side)?"width":"height",$target=(0,renderer.Z)(this._positionController._position.of),targetOffset=animation_position.Z.offset($target)||{top:0,left:0},contentOffset=animation_position.Z.offset(this.$overlayContent()),arrowSize=arrowRect[sizeProperty],contentLocation=contentOffset[axis],contentSize=(0,position.l)(this.$overlayContent().get(0))[sizeProperty],targetLocation=targetOffset[axis],targetElement=$target.get(0),targetSize=targetElement&&!targetElement.preventDefault?(0,position.l)(targetElement)[sizeProperty]:0,min=Math.max(contentLocation,targetLocation),max=Math.min(contentLocation+contentSize,targetLocation+targetSize);arrowLocation="start"===this.option("arrowPosition")?min-contentLocation:"end"===this.option("arrowPosition")?max-contentLocation-arrowSize:(min+max)/2-contentLocation-arrowSize/2;var borderWidth=this._positionController._getContentBorderWidth(side),finalArrowLocation=(0,math.n$)(arrowLocation-borderWidth+this.option("arrowOffset"),borderWidth,contentSize-arrowSize-2*borderWidth);this._$arrow.css(axis,finalArrowLocation)},_isPopoverInside:function(){return this._positionController._isPopoverInside()},_setContentHeight:function(fullUpdate){fullUpdate&&this.callBase()},_getPositionControllerConfig(){var{shading,target}=this.option();return(0,utils_extend.l)({},this.callBase(),{target,shading,$arrow:this._$arrow})},_initPositionController(){this._positionController=new PopoverPositionController(this._getPositionControllerConfig())},_renderWrapperDimensions:function(){this.option("shading")&&this.$wrapper().css({width:"100%",height:"100%"})},_isVerticalSide:function(side){return this._positionController._isVerticalSide(side)},_isHorizontalSide:function(side){return this._positionController._isHorizontalSide(side)},_clearEventTimeout:function(name){clearTimeout(this._timeouts[name])},_clearEventsTimeouts:function(){this._clearEventTimeout("show"),this._clearEventTimeout("hide")},_clean:function(){this._detachEvents(this.option("target")),this.callBase.apply(this,arguments)},_optionChanged:function(args){switch(args.name){case"arrowPosition":case"arrowOffset":this._renderGeometry();break;case"fullScreen":args.value&&this.option("fullScreen",!1);break;case"target":args.previousValue&&this._detachEvents(args.previousValue),this._positionController.updateTarget(args.value),this._invalidate();break;case"showEvent":case"hideEvent":var name=args.name.substring(0,4),event=getEventNameByOption(args.previousValue);this.hide(),detachEvent(this,this.option("target"),name,event),attachEvent(this,name);break;case"visible":this._clearEventTimeout(args.value?"show":"hide"),this.callBase(args);break;default:this.callBase(args)}},show:function(target){return target&&this.option("target",target),this.callBase()}});(0,component_registrator.Z)("dxPopover",Popover);const ui_popover=Popover}}]);